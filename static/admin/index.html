<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>å†…å®¹ç®¡ç†ç³»ç»Ÿ</title>
</head>
<body>
  <!-- è®© CMS è‡ªåŠ¨å¤„ç† DOM -->
  <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
  
  <script>
    // æç®€é…ç½®ï¼Œè®© CMS è‡ªåŠ¨åˆå§‹åŒ–
    window.CMS_CONFIG = {
      backend: {
        name: "github",
        repo: "x1aohe1/x1aohe1.github.io",
        branch: "main",
        auth_type: "implicit",
        app_id: "Ov23liUDGabIOat1t2KY"
      },
      media_folder: "static/images",
      public_folder: "/images",
      collections: [
              
              {
                name: "project_list",  // æ”¹ä¸ºå”¯ä¸€åç§°  
                label: "é¡¹ç›®ç°åœº",
                folder: "content/projects",
                create: true,
                slug: "{{slug}}",
                fields: [
                  { 
                    label: "é¡¹ç›®åç§°", 
                    name: "title", 
                    widget: "string", 
                    required: true 
                  },
                  { 
                    label: "åˆ›å»ºæ—¶é—´", 
                    name: "date", 
                    widget: "datetime", 
                    required: true 
                  },
                  { 
                    label: "è¿›åº¦ç™¾åˆ†æ¯”", 
                    name: "progress", 
                    widget: "number",
                    value_type: "int",
                    min: 0,
                    max: 100,
                    required: true 
                  },
                  { 
                    label: "é¡¹ç›®æè¿°", 
                    name: "description", 
                    widget: "text", 
                    required: true 
                  }
                ]
              },
              {
                name: "story_logs",  // æ”¹ä¸ºå”¯ä¸€åç§°
                label: "æ•…äº‹æ—¥å¿—", 
                folder: "content/stories",
                create: true,
                slug: "{{slug}}",
                fields: [
                  { 
                    label: "æ•…äº‹æ ‡é¢˜", 
                    name: "title", 
                    widget: "string", 
                    required: true 
                  },
                  { 
                    label: "è®°å½•æ—¶é—´", 
                    name: "date", 
                    widget: "datetime", 
                    required: true 
                  },
                  { 
                    label: "æ•…äº‹å†…å®¹", 
                    name: "body", 
                    widget: "markdown", 
                    required: true 
                  }
                ]
              }
            ]
          
    };
  </script>
</body>
</html>


<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>å†…å®¹ç®¡ç†ç³»ç»Ÿ</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ“</text></svg>">
</head>
<body>
  <div id="nc-root">
    <div style="display: flex; justify-content: center; align-items: center; height: 100vh; font-family: system-ui;">
      æ­£åœ¨åŠ è½½å†…å®¹ç®¡ç†ç³»ç»Ÿ...
    </div>
  </div>

  <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      if (typeof CMS === 'undefined') {
        console.error('CMS æœªåŠ è½½');
        return;
      }

      try {
        // ä½¿ç”¨å†…è”é…ç½®ï¼Œç¡®ä¿é›†åˆåç§°å”¯ä¸€
        CMS.init({
          config: {
            backend: {
              name: "github",
              repo: "x1aohe1/x1aohe1.github.io",
              branch: "main", 
              auth_type: "implicit",
              app_id: "Ov23liUDGabIOat1t2KY"
            },
            locale: "zh",
            site_url: "https://x1aohe1.github.io",
            display_url: "https://x1aohe1.github.io",
            media_folder: "static/images/uploads",
            public_folder: "/images/uploads",
            
            // ç¡®ä¿é›†åˆåç§°å”¯ä¸€
            collections: [
              
              {
                name: "project_list",  // æ”¹ä¸ºå”¯ä¸€åç§°  
                label: "é¡¹ç›®ç°åœº",
                folder: "content/projects",
                create: true,
                slug: "{{slug}}",
                fields: [
                  { 
                    label: "é¡¹ç›®åç§°", 
                    name: "title", 
                    widget: "string", 
                    required: true 
                  },
                  { 
                    label: "åˆ›å»ºæ—¶é—´", 
                    name: "date", 
                    widget: "datetime", 
                    required: true 
                  },
                  { 
                    label: "è¿›åº¦ç™¾åˆ†æ¯”", 
                    name: "progress", 
                    widget: "number",
                    value_type: "int",
                    min: 0,
                    max: 100,
                    required: true 
                  },
                  { 
                    label: "é¡¹ç›®æè¿°", 
                    name: "description", 
                    widget: "text", 
                    required: true 
                  }
                ]
              },
              {
                name: "story_logs",  // æ”¹ä¸ºå”¯ä¸€åç§°
                label: "æ•…äº‹æ—¥å¿—", 
                folder: "content/stories",
                create: true,
                slug: "{{slug}}",
                fields: [
                  { 
                    label: "æ•…äº‹æ ‡é¢˜", 
                    name: "title", 
                    widget: "string", 
                    required: true 
                  },
                  { 
                    label: "è®°å½•æ—¶é—´", 
                    name: "date", 
                    widget: "datetime", 
                    required: true 
                  },
                  { 
                    label: "æ•…äº‹å†…å®¹", 
                    name: "body", 
                    widget: "markdown", 
                    required: true 
                  }
                ]
              }
            ]
          }
        });
        
        console.log('CMS åˆå§‹åŒ–æˆåŠŸ');
        
      } catch (error) {
        console.error('CMS åˆå§‹åŒ–å¤±è´¥:', error);
        document.getElementById('nc-root').innerHTML = 
          '<div style="padding: 20px; text-align: center; color: red;">' +
          '<h3>åˆå§‹åŒ–é”™è¯¯</h3>' +
          '<p>' + error.message + '</p>' +
          '<button onclick="location.reload()" style="padding: 10px 20px; margin-top: 10px;">åˆ·æ–°é¡µé¢</button>' +
          '</div>';
      }
    });
  </script>
</body>
</html>